---
import MainLayout from '../layouts/MainLayout.astro';
import Navigation from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import BrandLines from '../components/BrandLines.astro';
---

<MainLayout 
  title="Contact | Plane View Collective"
  description="Get in touch to discuss your project. Let's create something clear and impactful together."
>
  <Navigation />
 <BrandLines />

  <!-- Hero Section -->
  <!-- FIX: Replaced .contact-hero with .page-hero from global.css -->
  <!-- REMOVED: padding-top: calc(var(--nav-height, 85px) + var(--spacing-lg)) -->
  <section class="section page-hero">
    <div class="container container-narrow">
      <h1>Let's Talk</h1>
      <p class="intro-text">
        Have a project in mind? Need clarity on your brand? Let's discuss how we can help you get noticed, understood, and remembered.
      </p>
    </div>
  </section>

  <section class="section contact-section">
    <div class="container">
      <div class="contact-grid-wrapper">
        <canvas id="floating-canvas"></canvas>
        <div class="contact-grid">
          
          <!-- Contact Form -->
          <div class="form-container">
            <form 
              class="contact-form" 
              action="https://api.web3forms.com/submit" 
              method="POST"
            >
              <input type="hidden" name="access_key" value="6478e4ea-de31-4569-b9d2-7964b52dc04c" />

              <div class="form-group">
                <label for="name">Full Name</label>
                <input type="text" id="name" name="name" required placeholder="John Doe" />
              </div>

              <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" name="email" required placeholder="john@example.com" />
              </div>

              <div class="form-group">
                <label for="company">Company</label>
                <input type="text" id="company" name="company" placeholder="Your Company (Optional)" />
              </div>

              <div class="form-group">
                <label for="service">What are you interested in?</label>
                <select id="service" name="service" required>
                  <option value="">Select a service</option>
                  <option value="brand-strategy">Brand Strategy</option>
                  <option value="website-design">Website Design</option>
                  <option value="digital-marketing">Digital Marketing</option>
                  <option value="social-content">Social Media & Content</option>
                  <option value="other">Something Else</option>
                </select>
              </div>

              <div class="form-group">
                <label for="message">Tell us about your project</label>
                <textarea id="message" name="message" rows="6" required placeholder="What challenge are you trying to solve? What are your goals?"></textarea>
              </div>

              <button type="submit" class="btn btn-primary btn-lg btn-full">
                Send Message
                <span class="arrow">→</span>
              </button>
            </form>
          </div>

          <!-- Contact Info -->
          <div class="contact-info">
            <svg id="card-connectors" aria-hidden="true" style="position:absolute;inset:0;width:100%;height:100%;pointer-events:none;z-index:2;overflow:visible;"></svg>

            <div class="info-card" id="card-1">
              <h3>Get in Touch</h3>
              <p>We typically respond within 24 hours.</p>
              <div class="contact-methods">
                <div class="contact-method">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M22 6L12 13L2 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <div>
                    <strong>Email</strong>
                    <a href="mailto:info@planeview.co.za">info@planeview.co.za</a>
                  </div>
                </div>
                <div class="contact-method">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <div>
                    <strong>Location</strong>
                    <span>Cape Town, South Africa</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="info-card" id="card-2">
              <h4>What to Expect</h4>
              <ol class="expectations-list">
                <li>We'll review your message and get back to you within 24 hours</li>
                <li>We'll schedule a discovery call to understand your needs</li>
                <li>We'll create a custom proposal with clear pricing and timeline</li>
                <li>Once approved, we get to work making your brand clearer</li>
              </ol>
            </div>

            <div class="info-card social-card" id="card-3">
              <h4>Connect With Us</h4>
              <div class="social-links">
                <a href="https://www.instagram.com/plane_view_collective?igsh=MWtrODJ6M2lsMGptOA%3D%3D&utm_source=qr" target="_blank" rel="noopener" class="social-link">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><rect x="2" y="2" width="20" height="20" rx="5" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/><circle cx="17.5" cy="6.5" r="1" fill="currentColor"/></svg>
                  Instagram
                </a>
                <a href="https://www.linkedin.com/company/planeviewco/" target="_blank" rel="noopener" class="social-link">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M16 8C17.5913 8 19.1174 8.63214 20.2426 9.75736C21.3679 10.8826 22 12.4087 22 14V21H18V14C18 13.4696 17.7893 12.9609 17.4142 12.5858C17.0391 12.2107 16.5304 12 16 12C15.4696 12 14.9609 12.2107 14.5858 12.5858C14.2107 12.9609 14 13.4696 14 14V21H10V14C10 12.4087 10.6321 10.8826 11.7574 9.75736C12.8826 8.63214 14.4087 8 16 8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 9H2V21H6V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="4" cy="4" r="2" stroke="currentColor" stroke-width="2"/></svg>
                  LinkedIn
                </a>
                <a href="https://youtube.com/@planeviewcollective?si=nH-wXaomeGrJp3ZU" target="_blank" rel="noopener" class="social-link">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><rect x="2" y="4" width="20" height="16" rx="3" stroke="currentColor" stroke-width="2"/><polygon points="10,9 10,15 15,12" fill="currentColor"/></svg>
                  YouTube
                </a>
                <a href="https://www.facebook.com/share/1AQg4ankHx/?mibextid=wwXIfr" target="_blank" rel="noopener" class="social-link">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><rect x="2" y="2" width="20" height="20" rx="3" stroke="currentColor" stroke-width="2"/><text x="12" y="16" font-size="14" font-weight="bold" text-anchor="middle" fill="currentColor">f</text></svg>
                  Facebook
                </a>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <Footer />
</MainLayout>

<style>
  /* FIX: .contact-hero removed entirely — using .page-hero from global.css instead */

  .intro-text {
    font-size: 1.375rem;
    line-height: 1.6;
    color: var(--color-slate-grey);
    margin-bottom: 0;
  }

  .contact-section {
    padding-top: var(--spacing-lg);
  }

  .contact-grid-wrapper {
    position: relative;
    padding: 2.5rem;
    margin: -2.5rem;
    overflow: hidden;
    border-radius: 1.5rem;
  }

  #floating-canvas {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
  }

  .contact-grid {
    position: relative;
    z-index: 1;
    display: grid;
    grid-template-columns: 1.5fr 1fr;
    gap: var(--spacing-3xl);
  }

  @media (max-width: 968px) {
    .contact-grid { grid-template-columns: 1fr; }
  }

  .form-container {
    padding: var(--spacing-2xl);
    background-color: var(--color-pure-white);
    border: 1px solid rgba(17, 17, 17, 0.1);
    border-radius: var(--radius-lg);
  }

  .contact-form {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
  }

  .form-group label {
    font-weight: 500;
    font-size: 0.9375rem;
    color: var(--color-jet-black);
  }

  .form-group input,
  .form-group select,
  .form-group textarea {
    padding: var(--spacing-sm);
    font-family: var(--font-primary);
    font-size: 1rem;
    border: 2px solid rgba(17, 17, 17, 0.1);
    border-radius: var(--radius-sm);
    transition: border-color var(--transition-base);
  }

  .form-group input:focus,
  .form-group select:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: var(--color-steel-blue);
  }

  .form-group textarea {
    resize: vertical;
    min-height: 120px;
  }

  .btn-full { width: 100%; justify-content: center; }

  .contact-info {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
  }

  .info-card {
    padding: var(--spacing-xl);
    background-color: rgba(47, 111, 237, 0.05);
    border-radius: var(--radius-md);
    border-left: 4px solid var(--color-steel-blue);
  }

  .info-card h3,
  .info-card h4 { margin-bottom: var(--spacing-md); }

  .info-card p { color: var(--color-slate-grey); }

  .contact-methods {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
    margin-top: var(--spacing-lg);
  }

  .contact-method {
    display: flex;
    gap: var(--spacing-md);
    align-items: flex-start;
  }

  .contact-method svg { color: var(--color-steel-blue); flex-shrink: 0; }

  .contact-method div {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
  }

  .contact-method strong { font-size: 0.875rem; color: var(--color-jet-black); }

  .contact-method a,
  .contact-method span { font-size: 0.9375rem; color: var(--color-slate-grey); }

  .expectations-list {
    margin-top: var(--spacing-md);
    padding-left: var(--spacing-lg);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
  }

  .expectations-list li { color: var(--color-slate-grey); font-size: 0.9375rem; }

  .social-links {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
    margin-top: var(--spacing-md);
  }

  .social-link {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm);
    border-radius: var(--radius-sm);
    transition: all var(--transition-base);
    color: var(--color-jet-black);
    font-weight: 500;
  }

  .social-link:hover {
    background-color: var(--color-pure-white);
    color: var(--color-steel-blue);
  }

  .btn-lg {
    padding: var(--spacing-md) var(--spacing-xl);
    font-size: 1.125rem;
  }
</style>